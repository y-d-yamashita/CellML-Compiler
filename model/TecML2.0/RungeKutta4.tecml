<tecml>
	<!-- 4th Order Runge-Kutta 2.0  	-->
	<!--	Last edit:   20130122   	-->
	<!--	Author:      m-ara	  	-->

	<variable name="d" type="constvar" />

	<variable name="t1" type="recurvar" />
	<variable name="t2" type="recurvar" />
	<variable name="t3" type="recurvar" />
	<variable name="t4" type="recurvar" />

	<variable name="k1" type="arithvar" />
	<variable name="k2" type="arithvar" />
	<variable name="k3" type="arithvar" />
	<variable name="k4" type="arithvar" />

	<variable name="x1" type="recurvar" />
	<variable name="x2" type="recurvar" />
	<variable name="x3" type="recurvar" />
	<variable name="x4" type="recurvar" />

	<variable name="i1" type="arithvar" />
	<variable name="i2" type="arithvar" />
	<variable name="i3" type="arithvar" />
	<variable name="i4" type="arithvar" />
	
	<variable name="x1init" type="constvar"/>
	<variable name="t1init" type="constvar"/>
	
	<variable name="x1end" type="arithvar"/>
	<variable name="t1end" type="arithvar"/>

	<variable name="z" type="constvar" />

	<variable name="cond" type="condition" />

	<function name="g" />
	<function name="f" />

	<variable name="n" type="stepvar" />

	<math xmlns="http://www.w3.org/1998/Math/MathML">
		<apply type="init" loopindex="n">
			<eq/>
			<apply>
				<selector/>
				<ci>x1</ci>
				<apply>
					<eq/>
					<ci>n</ci>
					<cn>0</cn>
				</apply>
			</apply>
			<ci>x1init</ci>
		</apply>

		<apply type="init" loopindex="n">
			<eq/>
			<apply>
				<selector/>
				<ci>t1</ci>
				<apply>
					<eq/>
					<ci>n</ci>
					<cn>0</cn>
				</apply>
			</apply>
			<ci>t1init</ci>
		</apply>				

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>i1</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>g</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i1</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>k1</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>f</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>k1</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>
		
		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>x2</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>x1</ci>
					<cn>n</cn>
				</apply>
				<apply>
					<times/>
					<apply>
						<selector/>
						<ci>k1</ci>
						<ci>n</ci>
					</apply>
					<apply>
						<divide/>
						<ci>d</ci>
						<cn>2</cn>
					</apply>
				</apply>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>t2</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>t1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<divide/>
					<ci>d</ci>
					<cn>2</cn>
				</apply>
			</apply>
		</apply>
		
		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>i2</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>g</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x2</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t2</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i2</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>k2</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>f</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x2</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t2</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i2</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>k2</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>
		
		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>x3</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>x1</ci>
					<cn>n</cn>
				</apply>
				<apply>
					<times/>
					<apply>
						<selector/>
						<ci>k2</ci>
						<ci>n</ci>
					</apply>
					<apply>
						<divide/>
						<ci>d</ci>
						<cn>2</cn>
					</apply>
				</apply>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>t3</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>t1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<divide/>
					<ci>d</ci>
					<cn>2</cn>
				</apply>
			</apply>
		</apply>
		
		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>i3</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>g</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x3</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t3</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i3</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>k3</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>f</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x3</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t3</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i3</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>k3</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>x4</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>x1</ci>
					<cn>n</cn>
				</apply>
				<apply>
					<times/>
					<apply>
						<selector/>
						<ci>k3</ci>
						<ci>n</ci>
					</apply>
					<ci>d</ci>
				</apply>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>t4</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>t1</ci>
					<ci>n</ci>
				</apply>
				<ci>d</ci>
			</apply>
		</apply>
		
		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>i4</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>g</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x4</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t4</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i4</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>k4</ci>
				<ci>n</ci>
			</apply>
			<apply>
				<fn>
					<ci>f</ci>
				</fn>
				<apply>
					<selector/>
					<ci>x4</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>t4</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>i4</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<selector/>
					<ci>k4</ci>
					<ci>n</ci>
				</apply>
				<ci>z</ci>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>x1</ci>
				<apply>
					<plus/>
					<ci>n</ci>
					<cn>1</cn>
				</apply>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>x1</ci>
					<ci>n</ci>
				</apply>
				<apply>
					<times/>
					<apply>
						<divide/>
						<ci>d</ci>
						<cn>6</cn>
					</apply>
					<apply>
						<plus/>
						<apply>
							<selector/>
							<ci>k1</ci>
							<ci>n</ci>
						</apply>
						<apply>
							<times/>
							<cn>2</cn>
							<apply>
								<selector/>
								<ci>k2</ci>
								<ci>n</ci>
							</apply>
						</apply>
						<apply>
							<times/>
							<cn>2</cn>
							<apply>
								<selector/>
								<ci>k3</ci>
								<ci>n</ci>
							</apply>
						</apply>
						<apply>
							<selector/>
							<ci>k4</ci>
							<ci>n</ci>
						</apply>
					</apply>
				</apply>
			</apply>
		</apply>

		<apply>
			<eq/>
			<apply>
				<selector/>
				<ci>t1</ci>
				<apply>
					<plus/>
					<ci>n</ci>
					<cn>1</cn>
				</apply>
			</apply>
			<apply>
				<plus/>
				<apply>
					<selector/>
					<ci>t1</ci>
					<ci>n</ci>
				</apply>
				<ci>d</ci>
			</apply>
		</apply>
		
		<apply type="final" loopindex="n">
			<condition>
				<apply>
					<ci>cond</ci>
				</apply>
			</condition>	
			<eq/>
			<ci>x1end</ci>
			<apply>
				<selector/>
				<ci>x1</ci>
				<apply>
					<plus/>
					<ci>n</ci>
					<cn>1</cn>
				</apply>
			</apply>
		</apply>

		<apply type="final" loopindex="n">
			<condition>
				<apply>
					<ci>cond</ci>
				</apply>
			</condition>	
			<eq/>
			<ci>t1end</ci>
			<apply>
				<selector/>
				<ci>t1</ci>
				<apply>
					<plus/>
					<ci>n</ci>
					<cn>1</cn>
				</apply>
			</apply>
		</apply>
		
	</math>


</tecml>